(this["webpackJsonpbeezy-react-challenge"]=this["webpackJsonpbeezy-react-challenge"]||[]).push([[0],{22:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(16),a=n.n(s),i=n(4),r=n(8),o=n(2),l=n.p+"static/media/cross_icon.a19dc586.svg",u=(n(22),n(0)),j=function(e){var t=e.onClick,n=e.onChange,s=e.filters,a=e.onFilterByField,r=e.showFilters,o=Object(c.useRef)(null);return Object(u.jsxs)("div",{"data-testid":"Header",className:"HeaderContainer",children:[Object(u.jsx)(i.a,{children:Object(u.jsx)(i.b,{to:"/",className:"HeaderTitle",children:Object(u.jsx)("h1",{children:"Rick & Morty characters"})})}),r&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"FiltersContainer",children:Object.entries(s).map((function(e,t){return void 0!==e[1]?Object(u.jsxs)("div",{className:"FilterTag",children:[Object(u.jsx)("span",{children:"".concat(e[0],": ").concat(e[1])}),Object(u.jsx)("img",{alt:"close ".concat(e[1]),src:l,"data-testid":"FilterTagClose",onClick:function(){return t=e[0],a(t,void 0),void(o.current.value="");var t}})]},"tag-".concat(t)):null}))}),Object(u.jsxs)("div",{className:"InputsContainer",children:[Object(u.jsxs)("div",{className:"CheckboxInput",children:[Object(u.jsx)("input",{id:"inputCheckbox",type:"checkbox",onClick:function(e){return t(e)}}),Object(u.jsx)("label",{htmlFor:"inputCheckbox",children:"Order A-Z"})]}),Object(u.jsx)("input",{ref:o,className:"SearchInput",type:"search",placeholder:"Search by name",onChange:function(e){return n(e)}})]})]})]})};j.defaultProps={onClick:function(){},onChange:function(){},filters:{},onFilterByField:function(){}};var d=j,h=(n(29),function(e){var t=e.page,n=e.getNextPage,c=e.getPreviousPage;return Object(u.jsx)("div",{className:"FooterWrapper",children:Object(u.jsxs)("div",{className:"FooterContainer",children:[Object(u.jsx)("button",{className:"Button",onClick:c,disabled:1===t,children:"PREV"}),Object(u.jsx)("span",{children:t}),Object(u.jsx)("button",{className:"Button",onClick:n,children:"NEXT"})]})})});h.defaultProps={page:1,getNextPage:function(){},getPreviousPage:function(){}};var b=h,m=(n(30),function(e){var t=e.getData;return Object(u.jsxs)("div",{className:"Warning",children:["Oops! There seems to have been a problem...",Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("button",{className:"WarningButton",onClick:function(){return t()},children:"Try again!"})})]})});m.defaultProps={getData:function(){}};var f=m,O=n.p+"static/media/heart_icon.e7203eef.svg",x=n.p+"static/media/dead_icon.3cccd334.svg",p=n.p+"static/media/unknown_icon.b60ab6d0.svg",g=n.p+"static/media/female_icon.bbfbea1f.svg",v=n.p+"static/media/genderless_icon.8e7bd9d6.svg",N=n.p+"static/media/male_icon.6550d876.svg",F={alive:O,dead:x,unknown:p},C={female:g,genderless:v,male:N},k=(n(31),function(e){var t=e.item,n=e.onFilterByField,c=e.setShowFilters,s=t.id,a=t.status,r=t.name,o=t.image,l=t.species,j=t.gender,d=t.origin,h=a?F[a.toLowerCase()]:"";return Object(u.jsxs)("li",{className:"ItemContainer","data-testid":"ListItem",children:[Object(u.jsx)("img",{className:"ItemImg",alt:r,src:o}),Object(u.jsxs)("div",{className:"ItemInfo",children:[Object(u.jsx)("h3",{className:"ItemText Title",children:r}),Object(u.jsxs)("p",{className:"ItemText Small Clickable",onClick:function(){return n("status",a)},children:[Object(u.jsx)("img",{className:"ItemIcon",alt:a,src:h}),a]}),Object(u.jsxs)("p",{className:"ItemText",children:[Object(u.jsx)("span",{className:"ItemText Clickable","data-testid":"ClickableListItem",onClick:function(){return n("species",l)},children:l}),"-",Object(u.jsx)("span",{className:"ItemText Clickable",onClick:function(){return n("gender",j)},children:j})]}),Object(u.jsxs)("p",{className:"ItemText",children:[Object(u.jsx)("span",{className:"ItemText Bold",children:"First seen in:"}),d&&d.name]})]}),Object(u.jsx)(i.a,{children:Object(u.jsx)(i.b,{to:"/detail/".concat(s),children:Object(u.jsx)("button",{className:"ItemButton",onClick:function(){return c(!1)},children:"More info..."})})})]})});k.defaultProps={item:{},onFilterByField:function(){},setShowFilters:function(){}};var I=k,y=(n(32),function(e){var t=e.isSortByName,n=e.characters,s=e.onFilterByField,a=e.setShowFilters;Object(c.useEffect)((function(){return a(!0)}),[]);var i=t&&n?n.sort((function(e,t){return e.name.localeCompare(t.name)})):n.sort((function(e,t){return e.id-t.id}));return Object(u.jsx)("ul",{className:"List","data-testid":"ListView",children:i.map((function(e){return void 0!==e&&Object(u.jsx)(I,{item:e,onFilterByField:s,setShowFilters:a},e.id)}))})});y.defaultProps={isSortByName:!1,characters:[],onFilterByField:function(){},setShowFilters:function(){}};var S=y,w="https://rickandmortyapi.com/api/character/",E=function(e,t,n){var c="";return Object.entries(e).forEach((function(e){void 0!==e[1]&&(c+="&".concat(e[0],"=").concat(e[1]))})),fetch("".concat(w,"?page=").concat(n).concat(c)).then((function(e){return e.json().catch((function(e){return t(!0)}))}))},T=(n(33),function(e){var t=e.matchId,n=e.setShowFilters,s=e.setIsApiError,a=e.isApiError,o=e.getAllData,l=Object(c.useState)(),j=Object(r.a)(l,2),d=j[0],h=j[1],b=Object(c.useState)(),m=Object(r.a)(b,2),O=m[0],x=m[1],p=function(){(function(e,t){return fetch("".concat(w).concat(e)).then((function(e){if(!e.ok)throw Error(e.status);return e.json()})).catch((function(e){return t(!0)}))})(t).then((function(e){return h(e),s(!1),function(e){return fetch("".concat("https://rickandmortyapi.com/api/episode/").concat(e))}(e.episode&&e.episode.map((function(e){return parseInt(e.split("/")[5],10)})))})).then((function(e){if(!e.ok)throw Error(e.status);return e.json()})).then((function(e){x(e),s(!1)})).catch((function(e){return s(!0)}))};Object(c.useEffect)((function(){return p()}),[t]);var g=O&&Array.isArray(O)?O:[O],v=d&&d.gender?C[d.gender.toLowerCase()]:"",N=d&&d.status?F[d.status.toLowerCase()]:"";return Object(u.jsxs)("div",{className:"DetailWrapper",children:[a&&Object(u.jsx)(f,{getData:o}),a||!d||d.error?Object(u.jsx)("div",{children:"Loading..."}):Object(u.jsxs)("div",{className:"DetailContainer",children:[Object(u.jsx)("img",{className:"DetailImg",alt:d.name,src:d.image}),Object(u.jsxs)("div",{className:"DetailTitleContainer",children:[Object(u.jsx)("h3",{children:d.name}),Object(u.jsx)("img",{className:"DetailIcon",alt:"gender ".concat(d.gender),src:v}),Object(u.jsx)("img",{className:"DetailIcon",alt:"status ".concat(d.status),src:N})]}),Object(u.jsxs)("p",{className:"DetailText",children:[Object(u.jsx)("span",{children:"Species:"}),d.species]}),Object(u.jsxs)("p",{className:"DetailText",children:[Object(u.jsx)("span",{children:"First seen in:"}),d.origin.name]}),Object(u.jsxs)("p",{className:"DetailText",children:[Object(u.jsx)("span",{children:"Last known location:"}),d.location.name]}),Object(u.jsxs)("div",{className:"EpisodesContainer",children:[Object(u.jsx)("h4",{className:"EpisodesTitle",children:"Episodes"}),Object(u.jsx)("ul",{className:"EpisodeList",children:O&&g.map((function(e,t){return Object(u.jsx)("li",{className:"EpisodeItem",children:e.name},"episode-".concat(t))}))})]}),Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("button",{className:"Button",onClick:function(){return n(!0)},children:"Go back"})})]})]})});T.defaultProps={matchId:"",setShowFilters:function(){},setIsApiError:function(){},isApiError:!1,getAllData:function(){}};var B,D=T,P=(n(34),{name:void 0,status:void 0,gender:void 0,species:void 0});var A=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(1),i=Object(r.a)(a,2),l=i[0],j=i[1],h=Object(c.useState)(!1),m=Object(r.a)(h,2),O=m[0],x=m[1],p=Object(c.useState)(!1),g=Object(r.a)(p,2),v=g[0],N=g[1],F=Object(c.useState)(!0),C=Object(r.a)(F,2),k=C[0],I=C[1],y=function(){(function(e){return fetch(w).then((function(e){return e.json()})).catch((function(t){return e(!0)}))})(N).then((function(e){s(e.results),N(!1)})).catch((function(e){return e}))};Object(c.useEffect)((function(){return y()}),[]);var T=function(e){E(P,N,e).then((function(t){s(t.results),j(e),N(!1)})).catch((function(e){return Object(u.jsx)(f,{getData:y})}))},A=function(e,t){P[e]=t,E(P,N,l).then((function(e){s(e.results),N(!1)})).catch((function(e){return Object(u.jsx)(f,{getData:y})}))},L=Object(o.f)().pathname.includes("/detail");return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{className:"Header",children:Object(u.jsx)(d,{onClick:function(e){var t=e.target.checked;x(t)},onChange:function(e){var t=e.target.value,n=""!==t?t:void 0;clearTimeout(B),B=setTimeout((function(){return A("name",n)}),1e3)},filters:P,onFilterByField:A,showFilters:k})}),Object(u.jsx)("main",{className:"Main",children:v?Object(u.jsx)(f,{getData:y}):Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",render:function(){return Object(u.jsx)(S,{characters:n,onFilterByField:A,isSortByName:O,setShowFilters:I})}}),Object(u.jsx)(o.a,{path:"/detail/:id",render:function(e){return Object(u.jsx)(D,{matchId:e.match.params.id,setShowFilters:I,setIsApiError:N,isApiError:v,getAllData:y})}})]})}),!v&&!L&&n.length>=20&&Object(u.jsx)("footer",{className:"Footer",children:Object(u.jsx)(b,{page:l,getNextPage:function(){return T(l+1)},getPreviousPage:function(){return T(l-1)},isApiError:v})})]})};n(35);a.a.render(Object(u.jsx)(i.a,{children:Object(u.jsx)(A,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.4cc5cc97.chunk.js.map